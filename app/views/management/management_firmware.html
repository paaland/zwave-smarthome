<!-- Admin firmware view -->
<h2 class="accordion-entry-title" ng-click="expandElement('firmware')">
    <i class="fa fa-level-up"></i> <span ng-bind="_t('firmware_update')"></span>
    <i class="fa accordion-arrow" ng-class="expand.firmware ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
</h2>
<div class="accordion-entry-ctrl" ng-if="expand.firmware" ng-controller="ManagementFirmwareController">
    <bb-loader></bb-loader>
    <form name="form_firmware" id="form_firmware" class="form form-page" ng-submit="updateFirmware()" novalidate>
        <fieldset>
            <!-- Currentt version -->

            <p class="form-control-static">
                <span ng-bind="_t('current_firmware')"></span>: <strong ng-bind="controllerInfo.softwareRevisionVersion"></strong>
            </p>

            <div class="form-group">
                <bb-help-text trans="_t('firmware_update_info')"></bb-help-text>
            </div>

        </fieldset>
        <fieldset class="submit-entry">
            <button type="button" class="btn btn-submit" title="{{_t('update_to_latest')}}"
                    ng-click="setAccess('?allow_access=1',true);handleModal('firmwareUpdateModal', $event)">
                <i class="fa fa-level-up"></i> <span class="btn-name">{{_t('update_to_latest')}}</span>
            </button>

        </fieldset>

    </form>
    <form name="form_update_device_database" id="form_update_device_database" class="form form-page" ng-submit="updateDatabases()">
        <fieldset>
            <!-- Device database -->
            <p class="form-control-static">
                <span ng-bind="_t('device_database_info')"></span>
            </p>
        </fieldset>
        <fieldset class="submit-entry">
            <button type="submit" class="btn btn-submit" title="{{_t('btn_update_device_database')}}">
                <i class="fa fa-level-up"></i> <span class="btn-name">{{_t('btn_update_device_database')}}</span>
            </button>
        </fieldset>
    </form>

    <!-- firmwareUpdateModal -->
    <div id="firmwareUpdateModal" class="appmodal appmodal-100" ng-if="modalArr.firmwareUpdateModal && firmwareUpdate.show">
        <div class="appmodal-in">
            <div class="appmodal-header">
                <span class="appmodal-close" ng-click="setAccess('?allow_access=0');handleModal('firmwareUpdateModal', $event)"><i class="fa fa-times"></i></span>
                <h3>{{_t('firmware_update')}}</h3>
            </div>
            <div class="appmodal-body text-center">
               <iframe ng-src="{{firmwareUpdate.url}}" height="600" style="width: 100%;" ng-if="firmwareUpdate.loaded"></iframe> 
            </div>
        </div>
    </div>
</div>
